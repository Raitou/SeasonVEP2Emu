using Common;
using libcomservice.Request;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace libcomservice.REQUEST
{
    public class CheckRequests
    {
        public void ExpTable(Session p)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray("00 00 00 55 00 00 00 00 00 00 00 00 00 00 00 64 00 00 00 01 00 00 00 00 00 00 00 8C 00 00 00 02 00 00 00 00 00 00 01 A6 00 00 00 03 00 00 00 00 00 00 03 5F 00 00 00 04 00 00 00 00 00 00 05 22 00 00 00 05 00 00 00 00 00 00 07 CB 00 00 00 06 00 00 00 00 00 00 0A 41 00 00 00 07 00 00 00 00 00 00 0D 60 00 00 00 08 00 00 00 00 00 00 10 6A 00 00 00 09 00 00 00 00 00 00 14 24 00 00 00 0A 00 00 00 00 00 00 17 CA 00 00 00 0B 00 00 00 00 00 00 1E FA 00 00 00 0C 00 00 00 00 00 00 25 13 00 00 00 0D 00 00 00 00 00 00 2E 30 00 00 00 0E 00 00 00 00 00 00 39 26 00 00 00 0F 00 00 00 00 00 00 40 67 00 00 00 10 00 00 00 00 00 00 4C 9D 00 00 00 11 00 00 00 00 00 00 54 EC 00 00 00 12 00 00 00 00 00 00 5F 7C 00 00 00 13 00 00 00 00 00 00 6F EF 00 00 00 14 00 00 00 00 00 00 83 C5 00 00 00 15 00 00 00 00 00 00 96 C6 00 00 00 16 00 00 00 00 00 00 B4 13 00 00 00 17 00 00 00 00 00 00 D0 BD 00 00 00 18 00 00 00 00 00 00 EE 45 00 00 00 19 00 00 00 00 00 01 0E 6D 00 00 00 1A 00 00 00 00 00 01 31 DD 00 00 00 1B 00 00 00 00 00 01 58 E9 00 00 00 1C 00 00 00 00 00 01 83 E5 00 00 00 1D 00 00 00 00 00 01 B7 15 00 00 00 1E 00 00 00 00 00 01 F3 F3 00 00 00 1F 00 00 00 00 00 02 3B 51 00 00 00 20 00 00 00 00 00 02 8F 51 00 00 00 21 00 00 00 00 00 02 F1 66 00 00 00 22 00 00 00 00 00 03 63 96 00 00 00 23 00 00 00 00 00 03 E1 18 00 00 00 24 00 00 00 00 00 04 99 80 00 00 00 25 00 00 00 00 00 05 64 48 00 00 00 26 00 00 00 00 00 06 43 68 00 00 00 27 00 00 00 00 00 07 38 D8 00 00 00 28 00 00 00 00 00 08 46 90 00 00 00 29 00 00 00 00 00 09 6F D8 00 00 00 2A 00 00 00 00 00 0A B6 A8 00 00 00 2B 00 00 00 00 00 0C 1E 48 00 00 00 2C 00 00 00 00 00 0D A9 58 00 00 00 2D 00 00 00 00 00 0F 5C 70 00 00 00 2E 00 00 00 00 00 11 B2 72 00 00 00 2F 00 00 00 00 00 14 44 56 00 00 00 30 00 00 00 00 00 17 17 DA 00 00 00 31 00 00 00 00 00 1A 33 8E 00 00 00 32 00 00 00 00 00 1D 9E D4 00 00 00 33 00 00 00 00 00 21 61 E0 00 00 00 34 00 00 00 00 00 25 84 E6 00 00 00 35 00 00 00 00 00 2A 11 BE 00 00 00 36 00 00 00 00 00 30 13 56 00 00 00 37 00 00 00 00 00 36 AF 7A 00 00 00 38 00 00 00 00 00 3D F4 EE 00 00 00 39 00 00 00 00 00 45 F4 6E 00 00 00 3A 00 00 00 00 00 4E C0 AE 00 00 00 3B 00 00 00 00 00 58 6D 5E 00 00 00 3C 00 00 00 00 00 64 D8 3E 00 00 00 3D 00 00 00 00 00 72 81 3C 00 00 00 3E 00 00 00 00 00 81 87 5A 00 00 00 3F 00 00 00 00 00 92 0E 32 00 00 00 40 00 00 00 00 00 A6 D5 C2 00 00 00 41 00 00 00 00 00 BD B0 E2 00 00 00 42 00 00 00 00 00 D9 F9 F2 00 00 00 43 00 00 00 00 00 F9 16 86 00 00 00 44 00 00 00 00 01 1F 1C 5A 00 00 00 45 00 00 00 00 01 48 F0 B6 00 00 00 46 00 00 00 00 01 7B 8E 5E 00 00 00 47 00 00 00 00 01 B3 39 FC 00 00 00 48 00 00 00 00 01 F6 08 84 00 00 00 49 00 00 00 00 02 3F 85 E4 00 00 00 4A 00 00 00 00 02 97 1A 04 00 00 00 4B 00 00 00 00 02 F7 6F BA 00 00 00 4C 00 00 00 00 03 69 8D AE 00 00 00 4D 00 00 00 00 03 E7 15 42 00 00 00 4E 00 00 00 00 04 7B 07 16 00 00 00 4F 00 00 00 00 05 54 03 5E 00 00 00 50 00 00 00 00 06 7C 31 2E 00 00 00 51 00 00 00 00 07 B2 79 8E 00 00 00 52 00 00 00 00 08 F6 DC 7E 00 00 00 53 00 00 00 00 0A 65 8F 1E 00 00 00 54 00 00 00 00 0C 1A C6 8E");
            p.SendPacket(pw, 1249);
        }

        public void MigrateServer(Session p, PacketRead r)
        {
            PacketWrite pw = new PacketWrite();
            pw.Int(0);
            p.SendPacket(pw, 161);
        }

        public void DepotInfoReq(Session p, PacketRead r)
           {
                PacketWrite pw = new PacketWrite();
                pw.HexArray("00 00 00 00 00 00 00 00 00 00 00 03 00 00 00 05 00 0C 3A FA 00 0C 3A F0 00");
                p.SendPacket(pw, 1340);
            }


        public void IDLEState(Session p, PacketRead r)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray(" 00 05 A3 BD 00 00 00 00 00");
            p.SendPacket(pw, 847);
        }


        public void ServerTime(Session p)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray("59 CA 59 35 00 00 07 E1 00 00 00 09 00 00 00 1A 00 00 00 0D 00 00 00 2A 00 00 00 0D 00 00 00");
            p.SendPacket(pw, 415);
        }

        public void NewCharChoice(Session p)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray("00 00 00 12 00 0F 1D E2 00 0F 1D E2 00 00 00 00 00 00 0F 1D EC 00 0F 1D EC 01 00 00 00 00 00 0F 1D F6 00 0F 1D F6 02 00 00 00 00 00 0F 1E 00 00 0F 1E 00 03 00 00 00 02 00 07 C2 FE 00 07 C3 08 00 0F 1E 0A 00 0F 1E 0A 04 00 00 00 03 00 07 C3 12 00 07 C3 1C 00 07 C3 26 00 0F 1E 14 00 0F 1E 14 05 00 00 00 02 00 07 C2 EA 00 07 C2 F4 00 0F 1E 1E 00 0F 1E 1E 06 00 00 00 03 00 07 C3 76 00 07 C3 80 00 07 C3 8A 00 0F 1E 28 00 0F 1E 28 07 00 00 00 03 00 07 C3 44 00 07 C3 4E 00 07 C3 58 00 0F 1E 32 00 0F 1E 32 08 00 00 00 00 00 0F 1E 3C 00 0F 1E 3C 09 00 00 00 03 00 07 C3 DA 00 07 C3 E4 00 07 C3 EE 00 0F 1E 46 00 0F 1E 46 0A 00 00 00 03 00 07 C4 0C 00 07 C4 16 00 07 C4 20 00 0F 1E 50 00 0F 1E 50 0B 00 00 00 03 00 07 C4 3E 00 07 C4 48 00 07 C4 52 00 0F 1E 5A 00 0F 1E 5A 0C 00 00 00 03 00 08 04 80 00 08 04 8A 00 08 04 94 00 0F 1E 64 00 0F 1E 64 0D 00 00 00 00 00 0F 1E 6E 00 0F 1E 6E 0E 00 00 00 00 00 0F 1E 78 00 0F 1E 78 0F 00 00 00 00 00 0F 1E 82 00 0F 1E 82 10 00 00 00 00 00 12 DF FE 00 12 DF FE 11 00 00 00 00");
            p.SendPacket(pw, 1411);
        }

        public void Kairos(Session p, PacketRead r)
        {
            r.Jump(4);
            int itemuid = r.Int();
            PacketWrite pw = new PacketWrite();
            pw.Int(0);
            pw.Int(0);
            pw.HexArray("00 01 5E 28");
            pw.Int(0);
            pw.Int(itemuid);
            pw.HexArray("00 00 00 00 00 00 00 01 00 00 00 00 00 00 FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 FF FF FF FF 01 58 73 0D 0B CE 52 38 00 00 0B 00 00 00 00 00 00 00 00 00 00 00 00 01 00 00 22 B0 00 00 00 00 00 D9 9F 1D 00 00 00 01 00 00 00 01 00 00 FF FF 00 00 FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 FF FF FF FF 01 58 73 0D 0A 96 51 A8 00 00 0B 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 FF FF FF FF FF FF FF FF 00 00 00 00 00 00 FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0D 85 01 98 FF F9 FD 78 73 E5 F6 9D 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 FF FF FF FF FF FF FF FF 00 00 00 00 00 00 FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 40 47 50 0D 85 01 98 0D 85 01 98 00 00 00 00 00 00 00 00 00 00 00 00");
            p.SendPacket(pw, 113);
        }

        public void HeathPoint(Session p, PacketRead r)
        {
            PacketWrite pw = new PacketWrite();
            pw.Int(100);
            p.SendPacket(pw, 1744);

            p.PChannel.WorldBossContrib(p);
        }

        public void AgitInit(Session p, PacketRead r)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray("00 05 A3 BD 57 F1 73 A5 00 00 00 14 00 00 00 01 00 09 3C 4C 00 00 00 01 31 7F 79 7D 00 00 00 14 00 00 00 14 00 00 00 00 00 00 FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 FF 00 00 00 00 00 00 00 00 00 00");
            p.SendPacket(pw, 1136);
        }

        public void AgitMapCatalogue(Session p, PacketRead r)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray("00 00 00 0A 00 00 00 00");
            p.SendPacket(pw, 1106);
        }

        public void Choicebox(Session p, PacketRead r)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray("00 00 02 EE 00 08 A1 92 00 08 A7 1E 00 08 A7 28 00 08 A7 32 00 08 A7 3C 00 08 A7 46 00 08 A7 50 00 08 A7 5A 00 08 A7 64 00 08 A7 6E 00 08 A7 78 00 08 A7 82 00 08 A7 8C 00 08 A7 96 00 08 A7 A0 00 08 A7 AA 00 08 A7 B4 00 08 A7 BE 00 08 A7 C8 00 08 A7 D2 00 08 A7 DC 00 08 A7 E6 00 08 A7 F0 00 08 A7 FA 00 08 A8 04 00 08 A8 0E 00 08 A8 18 00 08 A8 22 00 08 B6 6E 00 09 1E 6A 00 09 52 18 00 09 52 22 00 09 A6 F0 00 09 A6 FA 00 09 A7 04 00 09 A7 0E 00 09 C5 4A 00 09 C5 54 00 09 C5 5E 00 09 C5 68 00 09 C5 72 00 09 C5 7C 00 09 C5 86 00 09 C5 90 00 09 C5 9A 00 09 C5 A4 00 09 C5 AE 00 09 C5 B8 00 09 C5 C2 00 09 C5 CC 00 09 C5 D6 00 09 C5 E0 00 09 C5 EA 00 09 C5 F4 00 09 C5 FE 00 09 C6 08 00 09 C6 12 00 09 C6 1C 00 09 C6 26 00 09 C6 30 00 09 C6 3A 00 09 C6 44 00 0A 09 B0 00 0A 0B 54 00 0A 24 68 00 0A 24 72 00 0A 24 7C 00 0A 24 86 00 0A 24 90 00 0A 24 9A 00 0A 24 A4 00 0A 24 AE 00 0A 24 B8 00 0A 24 C2 00 0A 24 CC 00 0A F9 C4 00 0B 03 06 00 0B 03 2E 00 0B 03 38 00 0B 03 42 00 0B 03 4C 00 0B 03 56 00 0B 03 60 00 0B 09 A0 00 0B 09 AA 00 0B 09 B4 00 0B 09 BE 00 0B 09 C8 00 0B 09 D2 00 0B 09 DC 00 0B 09 E6 00 0B 09 F0 00 0B 09 FA 00 0B 0A 04 00 0B 10 26 00 0B 10 30 00 0B 10 3A 00 0B 10 44 00 0B 10 4E 00 0B 10 58 00 0B 10 62 00 0B 10 6C 00 0B 10 76 00 0B 10 80 00 0B 10 8A 00 0B 10 9E 00 0B 27 32 00 0B 5E 6E 00 0B 5E 78 00 0B 5E 82 00 0B 5E 8C 00 0B 5E 96 00 0B 5E A0 00 0B 5E AA 00 0B 5E B4 00 0B 5E BE 00 0B 5E C8 00 0B 62 42 00 0B 65 62 00 0B AA A4 00 0B AA AE 00 0B D0 06 00 0B E5 82 00 0B E5 8C 00 0B E5 96 00 0B E5 A0 00 0B E5 AA 00 0B E5 B4 00 0B F9 D2 00 0B FC 0C 00 0C 12 5A 00 0C 2C 86 00 0C 3C 6C 00 0C 3E 1A 00 0C 53 00 00 0C 53 6E 00 0C 53 78 00 0C 53 82 00 0C 53 8C 00 0C 53 96 00 0C 53 A0 00 0C 53 AA 00 0C 53 B4 00 0C 53 BE 00 0C 53 C8 00 0C 53 D2 00 0C 53 DC 00 0C 53 E6 00 0C 53 F0 00 0C 53 FA 00 0C 54 04 00 0C 54 0E 00 0C 54 18 00 0C 54 22 00 0C 54 2C 00 0C 54 36 00 0C 54 40 00 0C 54 4A 00 0C 54 54 00 0C 54 5E 00 0C 54 68 00 0C 54 72 00 0C 54 7C 00 0C 54 86 00 0C 54 90 00 0C 54 9A 00 0C 54 A4 00 0C 54 AE 00 0C 54 B8 00 0C 54 C2 00 0C 54 CC 00 0C 54 D6 00 0C 54 E0 00 0C 54 EA 00 0C 8E EC 00 0C 8E F6 00 0C 8F 00 00 0C 8F 0A 00 0C 8F 14 00 0C 8F 1E 00 0C 8F 28 00 0C 8F 32 00 0C 8F 3C 00 0C 8F 46 00 0C 8F 50 00 0C 8F 5A 00 0C 8F 64 00 0C 8F 6E 00 0C 8F 78 00 0C 8F 82 00 0C 8F 8C 00 0C 8F 96 00 0C 8F A0 00 0C 8F AA 00 0C 8F B4 00 0C 8F BE 00 0C 8F C8 00 0C 8F D2 00 0C 8F DC 00 0C 8F E6 00 0C 8F F0 00 0C 8F FA 00 0C 90 04 00 0C 90 0E 00 0C 90 18 00 0C 90 22 00 0C 90 2C 00 0C 90 36 00 0C 90 40 00 0C 90 4A 00 0C 90 54 00 0C 90 5E 00 0C 90 68 00 0C 90 72 00 0C 90 7C 00 0C 90 86 00 0C 90 90 00 0C 90 9A 00 0C 90 A4 00 0C 90 AE 00 0C 90 B8 00 0C 90 C2 00 0C 90 CC 00 0C 90 D6 00 0C 90 E0 00 0C 90 EA 00 0C 90 F4 00 0C 90 FE 00 0C 91 08 00 0C 91 12 00 0C 91 1C 00 0C 91 26 00 0C 91 30 00 0C 91 3A 00 0C 91 44 00 0C 91 4E 00 0C 91 58 00 0C 91 62 00 0C 91 6C 00 0C 91 76 00 0D 5F 98 00 0D 5F A2 00 0D 5F FC 00 0D 7C 9E 00 0D 7C A8 00 0D 7C B2 00 0D 7C BC 00 0D 7C C6 00 0D 7C D0 00 0D 7C DA 00 0D 7C E4 00 0D 86 62 00 0D C0 78 00 0D C0 8C 00 0D C0 96 00 0D C0 A0 00 0D C0 AA 00 0D C0 B4 00 0D C0 BE 00 0D EA B2 00 0E 19 F6 00 0E 20 FE 00 0E BF F0 00 0E BF FA 00 0E C0 04 00 0E C0 0E 00 0E C0 18 00 0E C0 E0 00 0F 14 A0 00 0F 26 FC 00 0F 27 06 00 0F 27 10 00 0F 27 1A 00 0F 27 24 00 0F 27 2E 00 0F 27 38 00 0F 27 42 00 0F 27 4C 00 0F 27 56 00 0F 27 60 00 0F 27 6A 00 0F 27 74 00 0F 27 7E 00 0F 27 88 00 0F 27 92 00 0F 27 9C 00 0F 27 A6 00 0F 30 DE 00 0F 31 A6 00 0F 31 B0 00 0F 31 BA 00 0F 31 C4 00 0F 31 CE 00 0F 31 D8 00 0F 31 E2 00 0F 31 EC 00 0F 31 F6 00 0F 32 00 00 0F 32 0A 00 0F 32 14 00 0F 32 1E 00 0F 32 28 00 0F 32 32 00 0F 32 3C 00 0F 32 46 00 0F 32 50 00 0F 32 5A 00 0F 32 64 00 0F 32 6E 00 0F 32 78 00 0F 32 82 00 0F 32 8C 00 0F 32 96 00 0F 32 A0 00 0F 32 AA 00 0F 32 B4 00 0F 32 BE 00 0F 32 C8 00 0F 35 16 00 0F 35 20 00 0F 35 2A 00 0F 35 34 00 0F 85 66 00 0F 85 70 00 0F A1 22 00 0F C0 94 00 0F C0 9E 00 0F C0 A8 00 0F C0 B2 00 0F C0 BC 00 0F C0 C6 00 0F C0 D0 00 0F C0 DA 00 0F C0 E4 00 0F C0 EE 00 0F C0 F8 00 0F C1 02 00 0F C1 0C 00 0F C1 16 00 0F C1 20 00 0F C1 2A 00 0F C1 34 00 0F C1 3E 00 0F C1 48 00 0F C2 92 00 0F CE E0 00 0F CE FE 00 0F CF 08 00 0F CF 12 00 0F CF 1C 00 0F CF 26 00 0F CF 30 00 0F CF 3A 00 0F CF 44 00 0F CF 4E 00 0F CF 58 00 0F CF 62 00 0F CF 6C 00 0F CF 76 00 0F CF 80 00 0F CF 8A 00 0F CF 94 00 0F CF 9E 00 0F CF A8 00 0F CF B2 00 0F CF BC 00 0F CF C6 00 0F CF D0 00 0F CF DA 00 0F CF E4 00 0F CF EE 00 0F CF F8 00 0F D0 02 00 0F D0 0C 00 0F D0 16 00 0F D0 20 00 0F D0 2A 00 0F D0 34 00 0F D0 3E 00 0F D0 48 00 0F F9 BA 00 0F F9 C4 00 0F FB 2C 00 0F FB 36 00 10 06 D0 00 10 0A 7C 00 10 0A 86 00 10 20 CA 00 10 33 1C 00 10 5E A0 00 10 76 9C 00 10 79 80 00 10 9F 0A 00 10 C9 9E 00 10 CD B8 00 10 CD C2 00 10 CD CC 00 10 CD D6 00 10 CD E0 00 10 DB B4 00 10 DB BE 00 10 DB C8 00 10 DB D2 00 10 DB DC 00 10 DB E6 00 10 DB F0 00 10 DB FA 00 10 DC 04 00 10 DC 0E 00 10 DC 18 00 10 DC 22 00 10 DC 2C 00 10 DC 36 00 10 DC 40 00 10 DC 4A 00 10 DC 54 00 10 DC 5E 00 10 DC 68 00 10 DC 72 00 10 DC 7C 00 10 DC 86 00 10 DC 90 00 10 DC 9A 00 10 DC A4 00 11 1A DE 00 11 1A E8 00 11 31 E0 00 11 35 28 00 11 93 F6 00 11 94 00 00 11 94 0A 00 11 94 14 00 11 94 1E 00 11 94 28 00 11 94 32 00 11 94 3C 00 11 94 46 00 11 94 50 00 11 94 5A 00 11 94 64 00 11 94 6E 00 12 1E 5C 00 12 1E 66 00 12 1E 70 00 12 1E 7A 00 12 1E 84 00 12 1E 8E 00 12 7C 80 00 12 7C 8A 00 12 7C 94 00 12 7C 9E 00 12 7C A8 00 12 7C B2 00 12 7C BC 00 12 7C C6 00 12 7C D0 00 12 7C DA 00 12 7C E4 00 12 7C EE 00 12 7C F8 00 12 7D 02 00 12 7D 0C 00 12 7D 16 00 12 7D 20 00 12 7D 2A 00 12 7D 34 00 12 7D 3E 00 12 7D 48 00 12 7D 52 00 12 7D 5C 00 12 7D 66 00 12 7D 70 00 12 7D 7A 00 12 7D 84 00 12 7D 8E 00 12 7D 98 00 12 7D A2 00 12 7D AC 00 12 7D B6 00 12 7D C0 00 12 7D CA 00 12 A6 BA 00 12 A8 A4 00 12 A8 AE 00 12 A8 B8 00 12 A8 C2 00 12 A8 CC 00 12 A8 D6 00 12 A8 E0 00 12 A8 EA 00 12 B5 42 00 12 C7 E4 00 12 C8 C0 00 12 DF 2C 00 12 E1 20 00 12 E1 E8 00 13 0A D8 00 13 0A E2 00 13 0A EC 00 13 0A F6 00 13 0B 00 00 13 0B 0A 00 13 0B 14 00 13 0B 1E 00 13 0B 28 00 13 0B 32 00 13 0B 3C 00 13 0B 46 00 13 0B 50 00 13 0B 5A 00 13 0B 64 00 13 0B 6E 00 13 0B 78 00 13 0B 8C 00 13 0C 40 00 13 0C 4A 00 13 0C 54 00 13 0C 5E 00 13 80 94 00 13 AD 94 00 13 AF 1A 00 13 AF 24 00 13 AF 2E 00 13 AF 38 00 13 AF 42 00 13 B1 90 00 13 B5 78 00 13 BC B2 00 13 BC BC 00 13 D2 CE 00 13 D2 D8 00 13 D2 E2 00 13 D9 2C 00 13 D9 36 00 13 D9 40 00 13 DA C6 00 13 DB 2A 00 13 DC 4C 00 13 DC 56 00 13 DC 60 00 13 DC 6A 00 13 DC 74 00 13 DC 7E 00 13 DC 88 00 13 DC 92 00 13 DC 9C 00 13 DC A6 00 13 DC B0 00 13 DC BA 00 13 DC C4 00 13 DC CE 00 13 DC D8 00 13 DC E2 00 13 DC EC 00 13 DC F6 00 13 DD 00 00 13 DD 0A 00 13 DD 14 00 13 DD 1E 00 13 DD 28 00 13 DD 32 00 13 DD 3C 00 13 DD 46 00 13 DD 50 00 13 DD 5A 00 13 DD 64 00 13 DD 6E 00 13 DD 78 00 13 DD 82 00 13 DD 8C 00 13 DD 96 00 13 DD A0 00 13 DD AA 00 13 DD B4 00 13 DD BE 00 13 DD C8 00 13 DD D2 00 13 DD DC 00 13 DD E6 00 13 DD F0 00 13 DD FA 00 13 DE 04 00 13 DE 0E 00 13 DE 18 00 13 DE 22 00 13 DE 2C 00 13 DE 36 00 13 DE 40 00 13 DE 4A 00 13 DE 54 00 13 DE 5E 00 13 DE 68 00 13 DE 72 00 13 DE 7C 00 13 DE 86 00 13 DE 90 00 13 DE 9A 00 13 DE A4 00 13 DE AE 00 13 DE B8 00 13 DE C2 00 13 DE CC 00 13 DE D6 00 13 DE E0 00 13 DE EA 00 13 DE F4 00 13 DE FE 00 13 DF 08 00 13 DF 12 00 13 DF 1C 00 13 DF 26 00 13 DF 30 00 13 DF 3A 00 13 DF 44 00 13 DF 4E 00 13 DF 58 00 13 DF 62 00 13 E9 12 00 13 E9 1C 00 13 E9 26 00 13 E9 30 00 13 E9 3A 00 13 F6 32 00 13 FC 9A 00 13 FD D0 00 15 46 68 00 15 46 72 00 15 46 7C 00 15 46 86 00 15 46 90 00 15 46 9A 00 15 4B 18 00 15 4B 22 00 15 81 8C 00 15 81 96 00 15 81 A0 00 15 81 AA 00 15 81 B4 00 15 81 BE 00 15 81 C8 00 15 81 D2 00 15 81 DC 00 15 81 E6 00 15 81 F0 00 15 81 FA 00 15 82 04 00 15 82 0E 00 15 82 18 00 15 82 22 00 15 82 2C 00 15 82 36 00 15 82 40 00 15 86 32 00 15 E2 8A 00 15 E2 94 00 15 E2 9E 00 15 E2 A8 00 15 E2 B2 00 15 E2 BC 00 15 E2 C6 00 15 E2 D0 00 15 E2 DA 00 15 E2 E4 00 15 E2 EE 00 15 E2 F8 00 15 E3 02 00 15 E3 0C 00 15 E3 16 00 15 EE 42 00 17 96 16 00 17 B3 08 00 17 B3 12 00 17 B3 1C 00 17 B3 26 00 17 B3 30 00 17 B3 3A 00 17 B3 44 00 17 B3 4E 00 17 B3 58 00 17 B3 62 00 17 B3 80 00 17 B3 8A 00 17 B5 10 00 17 B5 42 00 18 63 A2 00 18 B1 86 00 18 B1 90 00 18 B1 9A 00 18 B1 A4 00 18 B1 AE 00 18 B1 B8 00 18 B1 C2 00 18 B1 CC 00 18 B1 D6 00 18 B1 E0 00 18 B1 EA 00 18 B1 F4 00 18 B1 FE 00 18 B2 08 00 18 B2 12 00 18 B2 1C 00 18 B2 26 00 18 B2 30 00 18 B2 3A 00 18 E0 B6 00 18 E0 C0 00 18 E0 CA 00 18 E0 D4 00 18 E0 DE 00 18 E0 E8 00 18 E0 F2 00 18 E0 FC 00 18 E1 06 00 18 E1 10 00 18 E1 1A 00 18 E1 24 00 18 E1 2E 00 18 E1 38 00 18 E1 42 00 18 E1 4C 00 18 E1 56 00 18 E1 60 00 18 E1 6A 00 18 E1 74 00 18 E8 C2 00 18 E8 D6 00 18 E8 E0 00 18 E8 EA 00 18 E8 F4 00 18 E8 FE 00 18 E9 08 00 18 E9 12 00 18 E9 1C 00 18 E9 26 00 18 E9 30 00 18 E9 3A 00 18 E9 44 00 18 E9 4E 00 18 E9 58 00 18 E9 62 00 18 E9 6C 00 18 E9 76 00 18 E9 80 00 18 E9 8A 00 18 F9 CA 00 18 F9 D4 00 18 FB 96 00 18 FC 0E 00 18 FC 18 00 18 FC 22");
            p.SendPacket(pw, 1012);
        }

        public void InvenBuffItemList(Session p, PacketRead r)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray("00 00 00 03 00 08 87 0C 00 00 01 54 00 00 00 00 00 02 00 00 00 00 01 00 00 00 02 00 08 87 16 00 00 01 55 00 00 00 00 00 01 00 00 00 00 01 00 00 00 02 00 08 87 20 00 00 01 56 00 00 00 00 00 00 00 00 00 00 01 00 00 00 02");
            p.SendPacket(pw, 1226);
        }

        public void AgitStoreCatalog(Session p, PacketRead r)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray("00 00 00 4F 00 00 00 09 3C 74 00 00 00 09 3C 74 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 05 00 01 00 09 3C 7E 00 01 00 09 3C 7E FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 01 00 02 00 09 3D 8C 00 02 00 09 3D 8C FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 03 00 09 3D 96 00 03 00 09 3D 96 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 04 00 09 3D A0 00 04 00 09 3D A0 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 05 00 09 3D AA 00 05 00 09 3D AA FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 06 00 09 3D B4 00 06 00 09 3D B4 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 07 00 09 3D BE 00 07 00 09 3D BE FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 08 00 09 3D C8 00 08 00 09 3D C8 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 09 00 09 3D D2 00 09 00 09 3D D2 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 0A 00 09 3D DC 00 0A 00 09 3D DC FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 0B 00 09 3D E6 00 0B 00 09 3D E6 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 0C 00 09 3D F0 00 0C 00 09 3D F0 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 0D 00 09 3D FA 00 0D 00 09 3D FA FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 0E 00 09 3E 04 00 0E 00 09 3E 04 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 0F 00 09 3E 0E 00 0F 00 09 3E 0E FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 10 00 09 3E 18 00 10 00 09 3E 18 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 11 00 09 3E 22 00 11 00 09 3E 22 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 12 00 09 3E 2C 00 12 00 09 3E 2C FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 13 00 09 3E 36 00 13 00 09 3E 36 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 14 00 09 3E 40 00 14 00 09 3E 40 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 15 00 09 3E 4A 00 15 00 09 3E 4A FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 16 00 09 3E 54 00 16 00 09 3E 54 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 17 00 09 3E 5E 00 17 00 09 3E 5E FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 18 00 09 3E 68 00 18 00 09 3E 68 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 19 00 09 3E 72 00 19 00 09 3E 72 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 1A 00 09 3E 7C 00 1A 00 09 3E 7C FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 1B 00 09 3E 86 00 1B 00 09 3E 86 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 1C 00 09 3E 90 00 1C 00 09 3E 90 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 1D 00 09 3E 9A 00 1D 00 09 3E 9A FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 1E 00 09 3E A4 00 1E 00 09 3E A4 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 1F 00 09 3E AE 00 1F 00 09 3E AE FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 20 00 09 3E B8 00 20 00 09 3E B8 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 21 00 09 3E C2 00 21 00 09 3E C2 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 22 00 09 3E CC 00 22 00 09 3E CC FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 23 00 09 3E D6 00 23 00 09 3E D6 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 24 00 09 3E E0 00 24 00 09 3E E0 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 25 00 09 3E EA 00 25 00 09 3E EA FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 26 00 09 3E F4 00 26 00 09 3E F4 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 27 00 09 3E FE 00 27 00 09 3E FE FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 28 00 09 3F 08 00 28 00 09 3F 08 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 29 00 09 3F 12 00 29 00 09 3F 12 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 2A 00 09 3F 1C 00 2A 00 09 3F 1C FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 2B 00 09 3F 26 00 2B 00 09 3F 26 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 31 00 2C 00 09 3F 30 00 2C 00 09 3F 30 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 31 00 2D 00 09 3F 3A 00 2D 00 09 3F 3A FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 31 00 2E 00 09 3F 44 00 2E 00 09 3F 44 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 2F 00 09 3F 4E 00 2F 00 09 3F 4E FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 30 00 09 3F 58 00 30 00 09 3F 58 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 31 00 09 3F 62 00 31 00 09 3F 62 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 32 00 09 3F 6C 00 32 00 09 3F 6C FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 33 00 09 3F 76 00 33 00 09 3F 76 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 34 00 09 3F 80 00 34 00 09 3F 80 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 35 00 09 3F 8A 00 35 00 09 3F 8A FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 36 00 09 3F 94 00 36 00 09 3F 94 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 37 00 09 3F 9E 00 37 00 09 3F 9E FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 38 00 09 3F A8 00 38 00 09 3F A8 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 39 00 09 3F B2 00 39 00 09 3F B2 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 3A 00 09 3F BC 00 3A 00 09 3F BC FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 3B 00 09 3F C6 00 3B 00 09 3F C6 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 3C 00 09 3F D0 00 3C 00 09 3F D0 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 3D 00 09 3F DA 00 3D 00 09 3F DA FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 3E 00 09 3F E4 00 3E 00 09 3F E4 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 3F 00 09 3F EE 00 3F 00 09 3F EE FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 40 00 09 3F F8 00 40 00 09 3F F8 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 41 00 09 40 02 00 41 00 09 40 02 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 42 00 09 40 0C 00 42 00 09 40 0C FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 43 00 09 40 16 00 43 00 09 40 16 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 31 00 44 00 09 40 20 00 44 00 09 40 20 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 45 00 09 40 2A 00 45 00 09 40 2A FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 09 00 46 00 09 40 48 00 46 00 09 40 48 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 05 00 47 00 09 40 52 00 47 00 09 40 52 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 03 00 48 00 09 41 7E 00 48 00 09 41 7E FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 05 00 49 00 09 41 88 00 49 00 09 41 88 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 05 00 4A 00 0A 05 DC 00 4A 00 0A 05 DC FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 05 00 4B 00 0A 05 E6 00 4B 00 0A 05 E6 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 03 00 4C 00 0A 05 F0 00 4C 00 0A 05 F0 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 03 00 4D 00 0A 06 04 00 4D 00 0A 06 04 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 01 00 4E 00 0A 06 0E 00 4E 00 0A 06 0E FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 00 00 20 FF FF FF FF 00 00 00 01 00 00 00 00");
            p.SendPacket(pw, 1114);
        }

        public void ExpPotionList(Session p, PacketRead r)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray("00 00 00 00 00 00 00 00 01");
            p.SendPacket(pw, 1338);
        }

        public void FaityTreeLvTable(Session p, PacketRead r)
        {

            PacketWrite pw = new PacketWrite();
            pw.HexArray("00 00 00 07 00 00 00 01 00 00 00 00 00 00 00 02 00 00 00 0A 00 00 00 03 00 00 00 1E 00 00 00 04 00 00 00 3C 00 00 00 05 00 00 00 64 00 00 00 06 00 00 01 2C 00 00 00 07 00 00 03 84 00 00 00 00 01");
            p.SendPacket(pw, 1184);
        }

        public void FaityTreeBuff(Session p, PacketRead r)
        {
            PacketWrite pw = new PacketWrite();
            pw.HexArray("00 00 28 0A 00 00 00 01 00 00 00 00 00 00 00 00 59 29 AE 67");
            p.SendPacket(pw, 1178);

        }

        public void ReceiveExp(Session player, PacketRead r)
        {
            int exp = r.Int();

            if (exp < 203081358 && exp > 0)
            {
                PacketWrite write = new PacketWrite();
                write.Int(player.PInfo.CurRoom.m_usUsers());
                for (int i = 0; i < player.PInfo.CurRoom.m_usMaxUsers; i++)
                {
                    if (player.PInfo.CurRoom.m_dwSlots[i].Active == true)
                    {
                        int characterPosition = player.PCharacters.PositionCharacter(player.PInfo.m_ucCharType, player);
                        if (player.PInfo.CurRoom.m_dwSlots[i].usr.PCharacters.CharInfo[characterPosition].Exp < 2147483647)
                        {
                            libcomservice.Request.Server.EXPReward ExpManager = new libcomservice.Request.Server.EXPReward();
                            ExpManager.getExp(((int)player.PCharacters.CharInfo[characterPosition].Exp) + exp, player, player.PInfo.m_ucCharType, player.PInfo.CurRoom.m_dwSlots[i].usr.PCharacters.CharInfo[characterPosition].Level);

                            write.Int(player.PInfo.CurRoom.m_dwSlots[i].usr.PInfo.m_dwUserUID);
                            write.Byte(0);
                            write.Long(player.PInfo.CurRoom.m_dwSlots[i].usr.PCharacters.CharInfo[characterPosition].Exp * 2);
                            write.Long(player.PInfo.CurRoom.m_dwSlots[i].usr.PCharacters.CharInfo[characterPosition].Exp * 2);
                            if (ExpManager.isLevelUP == true)
                                write.Int(player.PInfo.CurRoom.m_dwSlots[i].usr.PCharacters.CharInfo[characterPosition].Level - 1);
                            else
                                write.Int(player.PInfo.CurRoom.m_dwSlots[i].usr.PCharacters.CharInfo[characterPosition].Level);

                            write.Int(player.PInfo.CurRoom.m_dwSlots[i].usr.PCharacters.CharInfo[characterPosition].Level);
                            write.HexArray("41 30 00 00 00 00 00 0C 00 00 00 A0");
                            for (int j = 0; j < player.PInfo.CurRoom.m_usMaxUsers; j++)
                            {
                                if (player.PInfo.CurRoom.m_dwSlots[j].Active == true)
                                {
                                    player.PInfo.CurRoom.m_dwSlots[j].usr.SendPacket(write, 921);
                                }
                            }
                            player.PInfo.CurRoom.m_dwSlots[i].usr.PCharacters.CharInfo[characterPosition].Exp += exp;
                            ExpManager.updateExp(((int)player.PInfo.CurRoom.m_dwSlots[i].usr.PCharacters.CharInfo[characterPosition].Exp), player.PInfo.CurRoom.m_dwSlots[i].usr.PInfo.m_strLogin, player.PInfo.CurRoom.m_dwSlots[i].usr.PCharacters.CharInfo[characterPosition].CharType);
                        }
                    }
                }
            }
        }
    }
}
